title: git使用进阶3-大文件上传
date: 2021-05-10 15:32
categories:
- 工具
tags:
- 自我成长
- git
- 工具
---

原本最近先整理些东西，然而发现电脑的git似乎停止了同步，仔细查看了下还在同步的日期，发现在4月末就已经停止了更新。

今天花了不少时间查看问题及解决问题，得出最大的结论是，有问题最好及时发现和解决，要不然可能会花更多的时间和精力。

### 问题
在本地存在一个超过了100M的文档，无法链接到github并拒绝上传

### 解决办法
#### 方式一：删掉文档
首先，我想的是，本地那个文档不要了，总可以上传了把？
删除了本地后，再add+commit+pull+push，失败，搞不懂啊，怎么删除也不行呢？

其实是因为已经将内容已经上载到了缓存区，你得把缓存区的给删掉，本地的给删掉，才行
```
git rm --cached 文件名
```

应该是能成功的。我失败了，搞了半天还是搞不掉，有可能是因为上载次数太多？不管了，没解决我的问题。

#### 方式二 扩大github上传的限度
在命令行输入以下命令，将上传限度搞成500M，这个我也失败了，后来回头看可能还是因为缓存区的文档没搞掉

```
git config http.postBuffer 524288000
```

#### 方式三 安装官方git lfs
[官网地址](https://git-lfs.github.com/)

操作不难，按照教程安装就可以了

但我发现，我的仍然失败。。

通过搜索，终于定位到，我必须把缓存区弄干净才可以搞定

于是我查找了上传的log，定位到最新同步日期，同步，解决
友情提醒：小白还是把之前的内容存一存，由于我的问题的旷日持久，导致有一些东西掉了。算了，有些也是垃圾，掉了就掉了吧

```
git log 看下历史log
git reset --hard xxxxxxxx
```

然后从头开始步骤
```
git add .
git commit -m "xxxx"
git pull
git push
```

终于搞完了。

感想大概就是：
1. 及时发现问题，早点解决，会更节约时间
2. 你遇到的问题，别人基本都遇到过，耐心点，搜索能找到问题
3. 还是要看命令行给的建议，仔细阅读。。问题定位最快，也可能是找到最佳解决方法